Running Test #1: 

Testing TPC-H 6 query with 32768 rows
Testing on Machine c5.24xlarge
Using 48 threads
lowest fractional measurement for comparisons: 1/32768
lowest fractional measurement for comparisons containing both positive and negative numbers: 1/65536

Computed or desired multDepth: 36
Newly computed firstMod: 50
Newly computed dcrtbits: 49

CKKS scheme is using ring dimension 65536

generated db columns for header quanlity_data
generated db columns for header extended_price
generated db columns for header discount_data
generated db columns for header ship_date
Successfully filled the db with TPC-H values 
formulating the query to send to the server
The size of the compressed query is: 38805063 bytes.
starting query evaluation

Time taken for query compression: 0.109 seconds
Time taken for xz compression: 0 seconds
Time taken for query decompression: 0.215 seconds
Time taken for query expansion: 2.448 seconds

Time taken for subquery ship_date < 9131: 7.841 seconds
Time taken for subquery ship_date >= 8766: 6.843 seconds
Time taken for subquery discount_data <= 0.12: 2.407 seconds
Time taken for subquery discount_data >= 0.06: 2.432 seconds
Time taken for subquery quanlity_data < 15: 3.898 seconds

Time taken to evaluate predicate expression: 0.303 seconds

Total time taken for predicate evaluation: 23.724 seconds

Time taken for the count operation: 0.04 seconds
Time taken for client-side aggregation operation 1: 0.02 seconds
Time taken for selection operation 1: 0.143 seconds
Time taken for aggregation operation 1: 0 seconds
Response compression time for aggregation operation: 1: 0.001 seconds
Response decompression time for aggregation operation: 1: 0.197 seconds

Total time taken to evaluate all aggregation expressions: 0.361 seconds

Total end-to-end query time: 26.857 seconds

Query results: 

Remaining levels after COUNT operation: 1

The size of the compressed response is: 1051527 bytes.

Estimated response compression time for COUNT operation: 0.001000 seconds
Estimated response decompression time for COUNT operation: 0.197000 seconds

Percent error between encrypted count and expected count from ciphertext operations: 0.0000159317 %
Percent error between encrypted count and actual expected count: 0.0135264614 %
Percent error between expected count from ciphertext operations and actual expected count: 0.0135105276 %

ENC_COUNT: 630
PUB_COUNT: 630
EXP_COUNT: 630

Results for aggregation query at index 1:
Remaining levels after SUM operation: 0

The size of the compressed response is: 1051527 bytes.

Estimated response compression time for the aggregation operation: 0.001000 seconds
Estimated response decompression time for the aggregation operation: 0.197000 seconds

Estimated encrypted sum: 564728.369724
Expected sum from ciphertext operations: 564728.197618
Actual expected sum: 564724.648500
Percent error between encrypted sum and expected sum from ciphertext operations: 0.0000304758 %
Percent error between encrypted sum and actual expected sum: 0.0006589448 %
Percent error between expected sum from ciphertext operations and actual expected sum: 0.0006284688 %




Running Test #2: 

Testing TPC-H 6 query with 32768 rows
Testing on Machine c5.24xlarge
Using 48 threads
lowest fractional measurement for comparisons: 1/32768
lowest fractional measurement for comparisons containing both positive and negative numbers: 1/65536

Computed or desired multDepth: 38
Newly computed firstMod: 47
Newly computed dcrtbits: 46

CKKS scheme is using ring dimension 65536

generated db columns for header quanlity_data
generated db columns for header extended_price
generated db columns for header discount_data
generated db columns for header ship_date
Successfully filled the db with TPC-H values 
formulating the query to send to the server
The size of the compressed query is: 40902555 bytes.
starting query evaluation

Time taken for query compression: 0.11 seconds
Time taken for xz compression: 0 seconds
Time taken for query decompression: 0.199 seconds
Time taken for query expansion: 2.516 seconds

Time taken for subquery ship_date < 9131: 8.445 seconds
Time taken for subquery ship_date >= 8766: 8.509 seconds
Time taken for subquery discount_data <= 0.12: 2.499 seconds
Time taken for subquery discount_data >= 0.06: 2.534 seconds
Time taken for subquery quanlity_data < 15: 3.815 seconds

Time taken to evaluate predicate expression: 0.473 seconds

Total time taken for predicate evaluation: 26.275 seconds

Time taken for the count operation: 0.027 seconds
Time taken for client-side aggregation operation 1: 0.022 seconds
Time taken for selection operation 1: 0.144 seconds
Time taken for aggregation operation 1: 0 seconds
Response compression time for aggregation operation: 1: 0.001 seconds
Response decompression time for aggregation operation: 1: 0.181 seconds

Total time taken to evaluate all aggregation expressions: 0.348 seconds

Total end-to-end query time: 29.448 seconds

Query results: 

Remaining levels after COUNT operation: 1

The size of the compressed response is: 1051623 bytes.

Estimated response compression time for COUNT operation: 0.001000 seconds
Estimated response decompression time for COUNT operation: 0.182000 seconds

Percent error between encrypted count and expected count from ciphertext operations: 0.0000914290 %
Percent error between encrypted count and actual expected count: 0.0000226340 %
Percent error between expected count from ciphertext operations and actual expected count: -0.0000687950 %

ENC_COUNT: 630
PUB_COUNT: 630
EXP_COUNT: 630

Results for aggregation query at index 1:
Remaining levels after SUM operation: 0

The size of the compressed response is: 1051623 bytes.

Estimated response compression time for the aggregation operation: 0.001000 seconds
Estimated response decompression time for the aggregation operation: 0.181000 seconds

Estimated encrypted sum: 564722.168531
Expected sum from ciphertext operations: 564721.851002
Actual expected sum: 564724.648500
Percent error between encrypted sum and expected sum from ciphertext operations: 0.0000562274 %
Percent error between encrypted sum and actual expected sum: -0.0004391466 %
Percent error between expected sum from ciphertext operations and actual expected sum: -0.0004953737 %




Running Test #3: 

Testing TPC-H 6 query with 32768 rows
Testing on Machine c5.24xlarge
Using 48 threads
lowest fractional measurement for comparisons: 1/32768
lowest fractional measurement for comparisons containing both positive and negative numbers: 1/65536

Computed or desired multDepth: 40
Newly computed firstMod: 45
Newly computed dcrtbits: 44

CKKS scheme is using ring dimension 65536

generated db columns for header quanlity_data
generated db columns for header extended_price
generated db columns for header discount_data
generated db columns for header ship_date
Successfully filled the db with TPC-H values 
formulating the query to send to the server
The size of the compressed query is: 43000047 bytes.
starting query evaluation

Time taken for query compression: 0.128 seconds
Time taken for xz compression: 0 seconds
Time taken for query decompression: 0.22 seconds
Time taken for query expansion: 2.614 seconds

Time taken for subquery ship_date < 9131: 8.978 seconds
Time taken for subquery ship_date >= 8766: 8.767 seconds
Time taken for subquery discount_data <= 0.12: 2.943 seconds
Time taken for subquery discount_data >= 0.06: 2.802 seconds
Time taken for subquery quanlity_data < 15: 4.539 seconds

Time taken to evaluate predicate expression: 0.767 seconds

Total time taken for predicate evaluation: 28.796 seconds

Time taken for the count operation: 0.029 seconds
Time taken for client-side aggregation operation 1: 0.022 seconds
Time taken for selection operation 1: 0.087 seconds
Time taken for aggregation operation 1: 0 seconds
Response compression time for aggregation operation: 1: 0.001 seconds
Response decompression time for aggregation operation: 1: 0.201 seconds

Total time taken to evaluate all aggregation expressions: 0.311 seconds

Total end-to-end query time: 32.069 seconds

Query results: 

Remaining levels after COUNT operation: 1

The size of the compressed response is: 1051719 bytes.

Estimated response compression time for COUNT operation: 0.001000 seconds
Estimated response decompression time for COUNT operation: 0.199000 seconds

Percent error between encrypted count and expected count from ciphertext operations: 0.0003465107 %
Percent error between encrypted count and actual expected count: 0.0003463435 %
Percent error between expected count from ciphertext operations and actual expected count: -0.0000001672 %

ENC_COUNT: 630
PUB_COUNT: 630
EXP_COUNT: 630

Results for aggregation query at index 1:
Remaining levels after SUM operation: 0

The size of the compressed response is: 1051719 bytes.

Estimated response compression time for the aggregation operation: 0.001000 seconds
Estimated response decompression time for the aggregation operation: 0.201000 seconds

Estimated encrypted sum: 564725.782436
Expected sum from ciphertext operations: 564724.646240
Actual expected sum: 564724.648500
Percent error between encrypted sum and expected sum from ciphertext operations: 0.0002011947 %
Percent error between encrypted sum and actual expected sum: 0.0002007945 %
Percent error between expected sum from ciphertext operations and actual expected sum: -0.0000004002 %




Running Test #4: 

Testing TPC-H 6 query with 32768 rows
Testing on Machine c5.24xlarge
Using 48 threads
lowest fractional measurement for comparisons: 1/32768
lowest fractional measurement for comparisons containing both positive and negative numbers: 1/65536

Computed or desired multDepth: 42
Newly computed firstMod: 43
Newly computed dcrtbits: 42

CKKS scheme is using ring dimension 65536

generated db columns for header quanlity_data
generated db columns for header extended_price
generated db columns for header discount_data
generated db columns for header ship_date
Successfully filled the db with TPC-H values 
formulating the query to send to the server
The size of the compressed query is: 45097539 bytes.
starting query evaluation

Time taken for query compression: 0.131 seconds
Time taken for xz compression: 0 seconds
Time taken for query decompression: 0.222 seconds
Time taken for query expansion: 2.628 seconds

Time taken for subquery ship_date < 9131: 9.856 seconds
Time taken for subquery ship_date >= 8766: 9.078 seconds
Time taken for subquery discount_data <= 0.12: 3.291 seconds
Time taken for subquery discount_data >= 0.06: 3.078 seconds
Time taken for subquery quanlity_data < 15: 4.34 seconds

Time taken to evaluate predicate expression: 0.956 seconds

Total time taken for predicate evaluation: 30.599 seconds

Time taken for the count operation: 0.029 seconds
Time taken for client-side aggregation operation 1: 0.022 seconds
Time taken for selection operation 1: 0.116 seconds
Time taken for aggregation operation 1: 0 seconds
Response compression time for aggregation operation: 1: 0.001 seconds
Response decompression time for aggregation operation: 1: 0.202 seconds

Total time taken to evaluate all aggregation expressions: 0.341 seconds

Total end-to-end query time: 33.921 seconds

Query results: 

Remaining levels after COUNT operation: 1

The size of the compressed response is: 1051815 bytes.

Estimated response compression time for COUNT operation: 0.001000 seconds
Estimated response decompression time for COUNT operation: 0.202000 seconds

Percent error between encrypted count and expected count from ciphertext operations: 0.0020624803 %
Percent error between encrypted count and actual expected count: 0.0020624803 %
Percent error between expected count from ciphertext operations and actual expected count: -0.0000000000 %

ENC_COUNT: 630
PUB_COUNT: 630
EXP_COUNT: 630

Results for aggregation query at index 1:
Remaining levels after SUM operation: 0

The size of the compressed response is: 1051815 bytes.

Estimated response compression time for the aggregation operation: 0.001000 seconds
Estimated response decompression time for the aggregation operation: 0.202000 seconds

Estimated encrypted sum: 564731.031745
Expected sum from ciphertext operations: 564724.648500
Actual expected sum: 564724.648500
Percent error between encrypted sum and expected sum from ciphertext operations: 0.0011303287 %
Percent error between encrypted sum and actual expected sum: 0.0011303287 %
Percent error between expected sum from ciphertext operations and actual expected sum: -0.0000000000 %




